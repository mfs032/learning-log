# 镜像仓库方案

## Harbor - 超融合镜像管理

```bash
Harbor的目标是帮助用户迅速搭建一个企业级的Docker registry 服务，有如下功能：
基于角色的访问控制
基于策略的镜像复制
镜像的漏洞扫描
AD/LDAP集成
镜像的删除和空间清理
友好的管理UI
审计日志
Restful API
部署简单
```

## 部署

```yaml
#创建命名空间
apiVersion: v1
kind: Namespace
metadata:
  name: harbor
  annotations:
    scheduler.alpha.kubernetes.io/node-selector: harbor=env
```

```bash
添加helm repo
helm repo add harbor https://helm.goharbor.io
helm search repo
#下载对应的chart包
helm pull harbor/harbor --version 1.11.0
tar -zxvf harbor-1.11.0.tgz
cd harbor
#修改一些字段
vim values.yaml

#使用helm安装harbor
helm install harbor . -f values.yaml -n harbor
```



