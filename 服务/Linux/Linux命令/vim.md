# 启动vim

## 1.启动vim

在终端输入一下命令启动vim

```shell
vim
```

## 2.打开vim

```shell
vim filename
```

# vim基本操作

## 1. 命令模式进入插入模式

++在命令模式下按i，光标会移动到当前位置，可以输入文本

++在命令模式下按下I，光标会移动到行首，可以输入文本

++在命令模式下按下a，光标会向后移动一个位置，可以输入文本

++在命令模式下按下A，光标会移动到行尾，可以输入文本

++在命令模式下按下o（小写），在当前行的下一行输入文本

++在命令模式下按下O（大写），在当前行的上一行输入文本

## 2. 插入模式进入命令模式

++按下Esc，退出插入模式，进入命令模式

++使用Ctrl+[组合键可以退出插入模式，进入命令模式

## 3. 命令模式进入命令行模式

按下:进入命令行模式

## 4. 命令行模式基本操作

:wq并按下回车键，会保存文件并退出，即使文件未修改，也会更新文件的“修改时间戳”



:x并按下回车键，仅当文件有修改时保存，如果文件未修改就直接退出，不修改文件的“更新时间戳”

## 5.命令模式的基本操作

### 保存退出

++在命令模式按下ZZ可以实现和命令行模式:x回车键的效果

### 光标移动

| 快捷键  | 描述                                 |
| ------- | :----------------------------------- |
| h       | 光标向左移动                         |
| j       | 光标向下移动                         |
| k       | 光标向上移动                         |
| l       | 光标向右移动                         |
| w       | 光标向后移动一个单词                 |
| b       | 光标向前移动一个单词                 |
| ^       | 光标移动到当前行第一个单词           |
| $       | 光标移动到当前行行尾                 |
| 0       | 光标移动到当前行行首                 |
| gg      | 光标移动到第一行开头                 |
| G       | 光标移动到最后一行开头               |
| 数字+gg | 光标移动到指定数字行                 |
| 数字+G  | 光标移动到指定数字行                 |
| %       | 光标在{}[]()的左括号和右括号之间跳转 |

### 删除和复制文本

| 快捷键 | 描述                               |
| ------ | ---------------------------------- |
| x      | 删除当前光标下的字符               |
| nx     | 向后删除n个字符                    |
| dd     | 删除/剪切光标所在当前行            |
| ndd    | 删除/剪切光标起向下n行             |
| dw     | 删除光标所在位置向后一个单词       |
| yw     | 复制光标向后一个单词               |
| yy     | 复制当前行                         |
| nyy    | 从光标起向下复制n行                |
| p      | 粘贴复制的内容到光标所在行的下一行 |

### 撤销与重做

| 快捷键   | 描述                   |
| -------- | ---------------------- |
| u        | 撤销上一步操作         |
| Ctrl + r | 重做上一步被撤销的操作 |

# 高级编辑技巧

## 1. 查找文本

在命令模式下输入/+要查找的文本+回车会高亮显示要查找的文本，按n向光标之后寻找

```shell
/target
```

```shell
n(小写)跳转到下一个查找到的目标，N(大写)查找到上一个查找到的目标
```

```shell
在命令模式可以指定是否高亮显示
取消高亮显示:set noh
```



？高亮后按n是向前寻找

```
?target
```



## 2. 替换文本

命令行模式

| 按键                  | 描述                                                      |
| --------------------- | --------------------------------------------------------- |
| :n1,n2s/word1/word2/g | 在n1到n2行之间替换所有word1为word2，不加g只替换每行第一个 |
| :1,$s/word1/word2/g   | 替换全文                                                  |
| :%s/word1/word2/g     | 替换全文                                                  |

## 3. 其他命令

| 按键      | 描述     |
| --------- | -------- |
| :set nu   | 显示行号 |
| :set noni | 关闭行号 |
| :set noh  | 关闭高亮 |

